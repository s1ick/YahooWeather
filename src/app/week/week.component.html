<div class="week-list" *ngIf="weatherData; else loading" @fadeIn>
  <div
    class="week-list-item"
    *ngFor="let day of weatherData.forecasts.slice(1, 7)"
    [class.dark-theme]="isDarkTheme"
  >
    <div class="week-list-item-content">
      <div class="week-list-item-content__day">{{ day.day }}</div>
      <div class="week-list-item-content__temp">
        {{ convertToCelsius(calculateAverageTemp(day.high, day.low)) }}°C
        <span class="temp-fahrenheit">
          ({{ calculateAverageTemp(day.high, day.low) }}°F)
        </span>
      </div>
    </div>
    <div class="week-list-item__img">
      <img
        [src]="getWeatherImageUrl(day.code)"
        width="80"
        height="80"
        [alt]="'Weather for ' + day.day"
        loading="lazy"
      />
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="loading-spinner">
    <div class="spinner"></div>
    <p>Loading weather data...</p>
  </div>
</ng-template>
